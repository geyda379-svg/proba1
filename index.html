<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üõí –ú–∞–≥–∞–∑–∏–Ω –≤ Telegram</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="container">
        <!-- Telegram Header -->
        <div class="tg-header">
            <button class="tg-back-btn" onclick="goBack()">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h1>üõçÔ∏è –ú–∞–≥–∞–∑–∏–Ω</h1>
            <button class="tg-menu-btn" onclick="toggleMenu()">
                <i class="fas fa-bars"></i>
            </button>
        </div>

        <!-- Main Content -->
        <main>
            <!-- User Info (–±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω—è—Ç—å—Å—è Telegram) -->
            <div class="user-card" id="userCard" style="display: none;">
                <img src="" alt="Avatar" id="userAvatar">
                <div class="user-info">
                    <h3 id="userName"></h3>
                    <p id="userBalance">–ë–∞–ª–∞–Ω—Å: <span id="balanceAmount">0</span> ‚ÇΩ</p>
                </div>
            </div>

            <!-- Products Filter -->
            <div class="filter-bar">
                <select id="categoryFilter" onchange="filterProducts()">
                    <option value="all">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</option>
                    <option value="electronics">üì± –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞</option>
                    <option value="clothes">üëï –û–¥–µ–∂–¥–∞</option>
                    <option value="books">üìö –ö–Ω–∏–≥–∏</option>
                    <option value="other">üì¶ –î—Ä—É–≥–æ–µ</option>
                </select>
                <select id="sortFilter" onchange="sortProducts()">
                    <option value="newest">–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
                    <option value="price_asc">–¶–µ–Ω–∞: –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é</option>
                    <option value="price_desc">–¶–µ–Ω–∞: –ø–æ —É–±—ã–≤–∞–Ω–∏—é</option>
                </select>
            </div>

            <!-- Products Grid -->
            <div class="products-grid" id="productsContainer">
                <div class="loader">
                    <i class="fas fa-spinner fa-spin"></i> –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤...
                </div>
            </div>

            <!-- Empty State -->
            <div class="empty-state" id="emptyState">
                <i class="fas fa-box-open"></i>
                <h3>–ú–∞–≥–∞–∑–∏–Ω –ø—É—Å—Ç</h3>
                <p>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –µ—â–µ –Ω–µ –¥–æ–±–∞–≤–∏–ª —Ç–æ–≤–∞—Ä—ã</p>
                <button class="tg-btn" onclick="location.reload()">
                    <i class="fas fa-sync-alt"></i> –û–±–Ω–æ–≤–∏—Ç—å
                </button>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-btn active" onclick="showPage('home')">
                <i class="fas fa-home"></i>
                <span>–ì–ª–∞–≤–Ω–∞—è</span>
            </button>
            <button class="nav-btn" onclick="showPage('cart')">
                <i class="fas fa-shopping-cart"></i>
                <span>–ö–æ—Ä–∑–∏–Ω–∞</span>
                <span class="badge" id="cartCount">0</span>
            </button>
            <button class="nav-btn" onclick="showPage('orders')">
                <i class="fas fa-history"></i>
                <span>–ó–∞–∫–∞–∑—ã</span>
            </button>
            <button class="nav-btn" onclick="showPage('profile')">
                <i class="fas fa-user"></i>
                <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
            </button>
        </nav>
    </div>

    <!-- Cart Modal -->
    <div class="modal" id="cartModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üõí –ö–æ—Ä–∑–∏–Ω–∞</h2>
                <button class="close-btn" onclick="closeModal('cartModal')">&times;</button>
            </div>
            <div class="modal-body" id="cartItems">
                <!-- Cart items will be here -->
            </div>
            <div class="modal-footer">
                <div class="cart-total">
                    <span>–ò—Ç–æ–≥–æ:</span>
                    <span id="cartTotal">0 ‚ÇΩ</span>
                </div>
                <button class="tg-btn primary" onclick="checkout()">
                    <i class="fas fa-credit-card"></i> –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
                </button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>